{{- if or (eq .chezmoi.os "darwin") (eq .chezmoi.os "linux") -}}
#!/bin/bash
# Ensure bob has the latest stable neovim installed and in use

set -e

# Find bob - check common locations
if command -v bob &>/dev/null; then
    BOB="bob"
elif [ -x "/opt/homebrew/bin/bob" ]; then
    BOB="/opt/homebrew/bin/bob"
elif [ -x "${HOME}/.local/bin/bob" ]; then
    BOB="${HOME}/.local/bin/bob"
else
    echo "⚠ bob not found, skipping nvim setup"
    exit 0
fi

echo ">>> Ensuring neovim stable is installed via bob..."
"$BOB" install stable

echo ">>> Setting neovim stable as active version..."
"$BOB" use stable

echo "✓ neovim stable is ready"
{{ end -}}
